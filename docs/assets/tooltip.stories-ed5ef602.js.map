{"version":3,"file":"tooltip.stories-ed5ef602.js","sources":["../../../../packages/components/tooltip/src/tooltip.tsx","../../../../packages/components/tooltip/src/tooltip-styles.ts"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { TooltipProps, tooltipClass, calculatePosition } from \".\";\nimport { cn } from \"@shiperist-catppuccin-ui/utilities\";\n\nexport const Tooltip = (props: TooltipProps) => {\n  const {\n    className = \"\",\n    children,\n    text,\n    visible,\n    showDelay = 250,\n    hideDelay = 250,\n    position = \"top\",\n    ...other\n  } = props;\n\n  const [isShown, setIsShown] = useState(visible || false);\n  const [showTimeout, setShowTimeout] = useState<number | null>(null);\n\n  const tooltipRef = useRef<HTMLDivElement | null>(null);\n  const targetRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    if (isShown && tooltipRef.current && targetRef.current) {\n      const newPositionStyle = calculatePosition(tooltipRef, targetRef, position);\n      Object.assign(tooltipRef.current.style, newPositionStyle);\n    }\n  }, [isShown, position]);\n\n  const handleMouseEnter = () => {\n    if (showTimeout) {\n      clearTimeout(showTimeout);\n    }\n    const timeout = window.setTimeout(() => {\n      setIsShown(visible || true);\n    }, showDelay);\n    setShowTimeout(timeout);\n  };\n\n  const handleMouseLeave = () => {\n    if (showTimeout) {\n      clearTimeout(showTimeout);\n    }\n    window.setTimeout(() => {\n      setIsShown(visible || false);\n    }, hideDelay);\n  };\n\n  const tooltipContainerStyles = cn(tooltipClass, className);\n\n  return (\n    <div ref={targetRef} onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n      {isShown && (\n        <div\n          ref={tooltipRef}\n          className={tooltipContainerStyles}\n          style={{\n            ...other.style,\n          }}>\n          {text}\n        </div>\n      )}\n      {children}\n    </div>\n  );\n};\n\nTooltip.displayName = \"Tooltip\";\n","import { cn } from \"@shiperist-catppuccin-ui/utilities\";\n\nexport const tooltipClass = cn(\n  \"bg-mantle max-w-16 border-surface0 absolute z-10 h-fit max-h-48 w-full overflow-y-auto rounded-xl border px-2 py-1 text-center text-sm\"\n);\n\nexport const calculatePosition = (tooltipRef: any, targetRef: any, position: string) => {\n  if (!tooltipRef.current || !targetRef.current) return;\n\n  const tooltipRect = tooltipRef.current.getBoundingClientRect();\n  const targetRect = targetRef.current.getBoundingClientRect();\n\n  const newPositionStyle: React.CSSProperties = {};\n\n  switch (position) {\n    case \"top\":\n      newPositionStyle.bottom = `${targetRect.height + 8}px`;\n      newPositionStyle.left = `calc(50% - ${tooltipRect.width / 2}px)`;\n      break;\n    case \"bottom\":\n      newPositionStyle.top = `${targetRect.height + 8}px`;\n      newPositionStyle.left = `calc(50% - ${tooltipRect.width / 2}px)`;\n      break;\n    case \"left\":\n      newPositionStyle.right = `${targetRect.width + 8}px`;\n      newPositionStyle.top = `calc(50% - ${tooltipRect.height / 2}px)`;\n      break;\n    case \"right\":\n      newPositionStyle.left = `${targetRect.width + 8}px`;\n      newPositionStyle.top = `calc(50% - ${tooltipRect.height / 2}px)`;\n      break;\n    default:\n      break;\n  }\n\n  return newPositionStyle;\n};\n"],"names":["Tooltip","props","className","children","text","visible","showDelay","hideDelay","position","other","isShown","setIsShown","useState","showTimeout","setShowTimeout","tooltipRef","useRef","targetRef","useEffect","newPositionStyle","calculatePosition","handleMouseEnter","timeout","handleMouseLeave","tooltipContainerStyles","cn","tooltipClass","jsx","tooltipRect","targetRect"],"mappings":"iXAIa,MAAAA,EAAWC,GAAwB,CACxC,KAAA,CACJ,UAAAC,EAAY,GACZ,SAAAC,EACA,KAAAC,EACA,QAAAC,EACA,UAAAC,EAAY,IACZ,UAAAC,EAAY,IACZ,SAAAC,EAAW,MACX,GAAGC,CACD,EAAAR,EAEE,CAACS,EAASC,CAAU,EAAIC,EAAAA,SAASP,GAAW,EAAK,EACjD,CAACQ,EAAaC,CAAc,EAAIF,WAAwB,IAAI,EAE5DG,EAAaC,SAA8B,IAAI,EAC/CC,EAAYD,SAA8B,IAAI,EAEpDE,EAAAA,UAAU,IAAM,CACd,GAAIR,GAAWK,EAAW,SAAWE,EAAU,QAAS,CACtD,MAAME,EAAmBC,EAAkBL,EAAYE,EAAWT,CAAQ,EAC1E,OAAO,OAAOO,EAAW,QAAQ,MAAOI,CAAgB,CAC1D,CAAA,EACC,CAACT,EAASF,CAAQ,CAAC,EAEtB,MAAMa,EAAmB,IAAM,CACzBR,GACF,aAAaA,CAAW,EAEpB,MAAAS,EAAU,OAAO,WAAW,IAAM,CACtCX,EAAWN,GAAW,EAAI,GACzBC,CAAS,EACZQ,EAAeQ,CAAO,CAAA,EAGlBC,EAAmB,IAAM,CACzBV,GACF,aAAaA,CAAW,EAE1B,OAAO,WAAW,IAAM,CACtBF,EAAWN,GAAW,EAAK,GAC1BE,CAAS,CAAA,EAGRiB,EAAyBC,EAAGC,EAAcxB,CAAS,EAEzD,SACG,MAAI,CAAA,IAAKe,EAAW,aAAcI,EAAkB,aAAcE,EAChE,SAAA,CACCb,GAAAiB,EAAC,MAAA,CACC,IAAKZ,EACL,UAAWS,EACX,MAAO,CACL,GAAGf,EAAM,KACX,EACC,SAAAL,CAAA,CACH,EAEDD,CACH,CAAA,CAAA,CAEJ,EAEAH,EAAQ,YAAc,UCjEf,MAAM0B,EAAeD,EAC1B,wIACF,EAEaL,EAAoB,CAACL,EAAiBE,EAAgBT,IAAqB,CACtF,GAAI,CAACO,EAAW,SAAW,CAACE,EAAU,QAAS,OAEzC,MAAAW,EAAcb,EAAW,QAAQ,sBAAsB,EACvDc,EAAaZ,EAAU,QAAQ,sBAAsB,EAErDE,EAAwC,CAAA,EAE9C,OAAQX,EAAU,CAChB,IAAK,MACHW,EAAiB,OAAS,GAAGU,EAAW,OAAS,CAAC,KAClDV,EAAiB,KAAO,cAAcS,EAAY,MAAQ,CAAC,MAC3D,MACF,IAAK,SACHT,EAAiB,IAAM,GAAGU,EAAW,OAAS,CAAC,KAC/CV,EAAiB,KAAO,cAAcS,EAAY,MAAQ,CAAC,MAC3D,MACF,IAAK,OACHT,EAAiB,MAAQ,GAAGU,EAAW,MAAQ,CAAC,KAChDV,EAAiB,IAAM,cAAcS,EAAY,OAAS,CAAC,MAC3D,MACF,IAAK,QACHT,EAAiB,KAAO,GAAGU,EAAW,MAAQ,CAAC,KAC/CV,EAAiB,IAAM,cAAcS,EAAY,OAAS,CAAC,MAC3D,KAGJ,CAEO,OAAAT,CACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}